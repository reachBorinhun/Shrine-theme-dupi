/* Overrides to remove card shadow and border-radius, and center title/price */
.card,
.card__inner,
.card__media,
.card-wrapper,
.collection-list__item {
  box-shadow: none !important;
  border-radius: 0 !important;
  overflow: visible !important;
}

.card__heading,
.card-information,
.card__information,
.card__badge,
.card__content {
  text-align: center !important;
}

/* Ensure media images don't crop corners */
.card__media img {
  border-radius: 0 !important;
}

/* Remove any default card background rounding or outline */
.card--card,
.card--standard {
  border-radius: 0 !important;
  box-shadow: none !important;
}

/* If there's a separate shadow wrapper, remove it */
.card .shadow,
.card-shadow,
.card__shadow {
  display: none !important;
}

/* Remove shadows set via pseudo-elements (used in base.css) */
.card--card:after,
.card--standard .card__inner:after,
.card--card .card__inner:after,
.card--standard:after,
.card:after,
.card__inner:after {
  box-shadow: none !important;
  content: none !important;
  background: transparent !important;
}

/* Fallback to remove any inline shadow properties set via variables */
.card,
.card--card,
.card--standard,
.card__inner {
  box-shadow: none !important;
}

/* Reduce any extra spacing applied to list items or card wrappers */
.collection-list__item,
.splide__slide__container--card,
.slider__slide,
.product-grid > * {
  margin: 0 !important;
  /* keep 8px internal padding so content doesn't touch edges */
  padding: 8px !important;
}

/* Ensure the media area fills the card and images cover the area for tighter look */
.card__media,
.card .media,
.card__media .media,
.card .card__media {
  width: 100% !important;
  height: 100% !important;
  /* respect the outer 8px padding from the list item */
  padding: 0 !important;
  box-sizing: border-box !important;
}

.card__media img,
.card .media img {
  display: block !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}

/* Mobile: 2 columns per row */
@media screen and (max-width: 749px) {
  .product-grid {
    --columns-mobile: 2 !important;
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 4px !important;
    column-gap: 4px !important;
    row-gap: 4px !important;
  }

  .splide__list,
  .splide__slide {
    gap: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  /* Reduce card inner padding on small screens */
  .product-grid > * {
    padding: 4px !important;
  }
}

/* Tablet: 3 columns per row */
@media screen and (min-width: 750px) and (max-width: 989px) {
  .product-grid {
    --columns-desktop: 3 !important;
    grid-template-columns: repeat(3, 1fr) !important;
    gap: 4px !important;
    column-gap: 4px !important;
    row-gap: 4px !important;
  }

  .splide__list,
  .splide__slide {
    gap: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  /* Slightly reduce card inner padding on tablet for tighter rows */
  .product-grid > * {
    padding: 6px !important;
  }
}

/* Desktop: 4 columns per row (your original code) */
@media screen and (min-width: 990px) {
  .product-grid {
    --columns-desktop: 4 !important;
    grid-template-columns: repeat(4, 1fr) !important;
    gap: 4px !important;
    column-gap: 4px !important;
    row-gap: 4px !important;
  }

  /* Also ensure splide list/gutters don't add extra spacing */
  .splide__list,
  .splide__slide {
    gap: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
  }
}

/* Reduce outer container padding for the featured collection so cards can be wider
   Keep product gap (grid gap) unchanged â€” this only reduces the row's left/right inset */
.featured-collection-wrapper .product-grid {
  padding-left: 8px !important;
  padding-right: 8px !important;
  box-sizing: border-box !important;
}

@media screen and (min-width: 750px) and (max-width: 989px) {
  /* tablet: slightly smaller container padding */
  .featured-collection-wrapper .product-grid {
    padding-left: 6px !important;
    padding-right: 6px !important;
  }
}

@media screen and (max-width: 749px) {
  /* mobile: very small container padding to maximize card width */
  .featured-collection-wrapper .product-grid {
    padding-left: 4px !important;
    padding-right: 4px !important;
  }
}

/* Aggressive: remove any ancestor padding for featured collection instances */
.featured-collection-wrapper,
.featured-collection-wrapper.page-width,
.collection.featured-collection-wrapper {
  padding-left: 0 !important;
  padding-right: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  max-width: 100% !important;
}

.featured-collection-wrapper .page-width,
.featured-collection-wrapper .collection {
  padding-left: 0 !important;
  padding-right: 0 !important;
  max-width: none !important;
}

/* Cart drawer mobile override: keep off-canvas slide-from-right but constrain panel width
   Put this in overrides.css so it loads after base.css and survives snippet edits. */
@media screen and (max-width: 500px) {
  /* keep root full-bleed so overlay and focus trap behave normally */
  .cart-drawer--mobile-width-full .cart-drawer {
    width: 100% !important;
    max-width: 100% !important;
    left: 0 !important;
    right: 0 !important;
  }

  /* constrain the sliding panel, anchor to right, and preserve slide transform */
  .cart-drawer--mobile-width-full .drawer__inner {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: min(420px, 92vw) !important;
    max-width: 92vw !important;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px 0 0 8px !important;
    margin: 0 !important;
    /* ensure it's positioned off-canvas before active state */
    transform: translateX(100%) !important;
    transition: transform var(--duration-default, 0.28s) ease !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
    transform-origin: center right !important;
  }

  /* when drawer becomes active, slide the constrained panel into view */
  .drawer.active .cart-drawer--mobile-width-full .drawer__inner,
  .cart-drawer--mobile-width-full .drawer.active .drawer__inner {
    transform: translateX(0) !important;
  }

  .cart-drawer__overlay {
    background: rgba(0, 0, 0, 0.5) !important;
  }
}

/* Broader, high-specificity rules that target the actual CartDrawer instance so
   the override works even if the snippet or mobile_width class changes. */
@media screen and (max-width: 500px) {
  /* Target the instance by ID (rendered in the snippet) */
  #CartDrawer .drawer__inner,
  .cart-drawer .drawer__inner {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: min(420px, 92vw) !important;
    max-width: 92vw !important;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15) !important;
    border-radius: 8px 0 0 8px !important;
    margin: 0 !important;
    transform: translateX(100%) !important;
    transition: transform var(--duration-default, 0.28s) ease !important;
    will-change: transform !important;
    backface-visibility: hidden !important;
    transform-origin: center right !important;
  }

  /* Active state when the top-level drawer element becomes active */
  .drawer.active #CartDrawer .drawer__inner,
  .drawer.active .cart-drawer .drawer__inner {
    transform: translateX(0) !important;
  }
}
